(this["webpackJsonpdrag-"]=this["webpackJsonpdrag-"]||[]).push([[0],{24:function(t,e,a){},25:function(t,e,a){},27:function(t,e,a){},28:function(t,e,a){},29:function(t,e,a){},34:function(t,e,a){"use strict";a.r(e);var i,n=a(0),c=a.n(n),r=a(4),s=a.n(r),l=(a(24),a(3)),o=a(2),d=a(5),b=a(6),j=a(8),u=a(7),p=(a(25),a(35)),m="in progress",h="done",f="to do",x=[{title:"Daisy",text:"family careful height syllable chance taken factory",type:h,id:Object(p.a)()},{title:"William",text:"shine excitement news potatoes bigger pour sitting",type:m,id:Object(p.a)()},{title:"Mike",text:"series bite as kind front light combine",type:f,id:Object(p.a)()},{title:"Iva",text:"aside camera corner stood flower deep differ",type:h,id:Object(p.a)()},{title:"Floyd",text:"behavior careful temperature strip herself moving fog",type:f,id:Object(p.a)()},{title:"Gregory",text:"dried between two society thread essential gain",type:m,id:Object(p.a)()}],O=(i={},Object(l.a)(i,h,x.filter((function(t){return t.type===h}))),Object(l.a)(i,m,x.filter((function(t){return t.type===m}))),Object(l.a)(i,f,x.filter((function(t){return t.type===f}))),i),g=a(17),v=a(16),y=function(t,e){return window.localStorage.setItem(t,JSON.stringify(e))},N=function(t){return JSON.parse(window.localStorage.getItem(t))},I=function(t,e,a){var i=Object(v.a)(t[e.droppableId]),n=e.droppableId===a.droppableId?i:Object(v.a)(t[a.droppableId]),c=i.splice(e.index,1),r=Object(g.a)(c,1)[0];return r.type=a.droppableId,n.splice(a.index,0,r),Object(o.a)(Object(l.a)({},e.droppableId,i),e.droppableId===a.droppableId?{}:Object(l.a)({},a.droppableId,n))},w=a(1),k=function(){return Object(w.jsx)("header",{className:"bg-white",children:Object(w.jsx)("div",{className:"container",children:Object(w.jsx)("h5",{className:"text-muted py-3 m-0",children:"First Project"})})})},E=a(18),C=a(9),S=(a(27),a(28),a(11)),V=(a(29),function(t){Object(j.a)(a,t);var e=Object(u.a)(a);function a(t){var i;return Object(d.a)(this,a),(i=e.call(this,t)).saveHandler=function(){var t=i.props,e=t.action,a=t.item,n=t.toggleModal,c=Object(S.a)(i),r=c.titleInput.current,s=c.textareaInput.current;a.type||a.id||(a.id=Object(p.a)(),a.type="to do"),a.title=r.value,a.text=s.value,e("edit",a),n()},i.handleUserInput=function(t){var e=t.target.id,a=t.target.value;i.setState(Object(l.a)({},e,a),(function(){i.validateField(e,a)}))},i.state={title:i.props.item.title,description:i.props.item.text,formErrors:{title:!!t.edit,description:!!t.edit},titleValid:!!t.edit,descriptionValid:!!t.edit,formValid:!!t.edit},i.titleInput=Object(n.createRef)(),i.textareaInput=Object(n.createRef)(),i}return Object(b.a)(a,[{key:"validateField",value:function(t,e){var a=this.state.formErrors,i=this.state.titleValid,n=this.state.descriptionValid;switch(t){case"title":i=e.trim().length>=0,a.title=!!i;break;case"description":n=e.trim().length>=0,a.description=!!n}this.setState({formErrors:a,titleValid:i,descriptionValid:n},this.validateForm),console.log(a,this.state.formValid)}},{key:"validateForm",value:function(){this.setState({formValid:this.state.titleValid&&this.state.descriptionValid})}},{key:"errorClass",value:function(t){return t?"is-valid":"is-invalid"}},{key:"render",value:function(){var t=this.props,e=t.edit,a=t.toggleModal,i=t.item,n=this.titleInput,c=this.textareaInput,r=this.handleUserInput,l=this.saveHandler,o=this.errorClass,d=this.state,b=d.formValid,j=d.formErrors,u=Object(w.jsx)("div",{className:"modal-overlay",children:Object(w.jsxs)("div",{className:"modal-content",tabIndex:"-1",autoFocus:!0,children:[Object(w.jsxs)("div",{className:"d-flex justify-content-between p-2",children:[Object(w.jsx)("span",{children:e?"Edit Item":"Add Item"}),Object(w.jsx)("button",{className:"close-btn",onClick:function(){return a()},children:Object(w.jsx)("span",{children:"\xd7"})})]}),Object(w.jsxs)("form",{action:"#",className:"pb-2",children:[Object(w.jsxs)("div",{className:"form-group px-2 pt-2 mb-2 border-top",children:[Object(w.jsxs)("label",{htmlFor:"title",className:"mb-2",children:[Object(w.jsx)("span",{className:"text-danger",children:"* "}),"Title"]}),Object(w.jsx)("input",{type:"text",className:"form-control ".concat(o(j.title)),id:"title","aria-describedby":"title",autoComplete:"off",ref:n,defaultValue:i.title,onChange:r,placeholder:"Title"})]}),Object(w.jsxs)("div",{className:"form-group px-2 pb-2 mb-2 border-bottom",children:[Object(w.jsxs)("label",{htmlFor:"description",className:"mb-2",children:[Object(w.jsx)("span",{className:"text-danger",children:"* "}),"Description"]}),Object(w.jsx)("textarea",{className:"form-control ".concat(o(j.description)),id:"description",rows:"3",ref:c,defaultValue:i.text,onChange:r,placeholder:"Description"})]}),Object(w.jsxs)("div",{className:"d-flex justify-content-end px-2",role:"group","aria-label":"Buttons",children:[Object(w.jsx)("button",{type:"button",className:"btn border btn-light p-1 px-2",onClick:function(){return a()},children:"Cancel"}),Object(w.jsx)("button",{type:"button",className:"btn btn-primary p-1 px-2 ml-2",onClick:function(){return l()},disabled:!b,children:"OK"})]})]})]})});return s.a.createPortal(u,document.getElementById("modalContainer"))}}]),a}(n.Component)),M=function(t){Object(j.a)(a,t);var e=Object(u.a)(a);function a(t){var i;return Object(d.a)(this,a),(i=e.call(this,t)).toggleModal=function(){i.setState((function(t){return{isEditing:!t.isEditing}}))},i.state={isEditing:!1},i}return Object(b.a)(a,[{key:"render",value:function(){var t=this,e=this.props,a=e.index,i=e.item,n=e.action,c=this.state.isEditing;return Object(w.jsx)(C.b,{draggableId:i.id,index:a,children:function(e,a){return Object(w.jsxs)("div",Object(o.a)(Object(o.a)(Object(o.a)({className:"todo-item container mb-2",ref:e.innerRef},e.draggableProps),e.dragHandleProps),{},{children:[Object(w.jsxs)("div",{className:"row py-3",children:[Object(w.jsxs)("header",{className:"col-12",children:[Object(w.jsxs)("div",{className:"d-flex justify-content-between px-2",children:[Object(w.jsx)("span",{className:"text-dark",children:i.title}),Object(w.jsxs)("div",{className:"actions",children:[Object(w.jsx)("div",{className:"actions__label border"}),Object(w.jsxs)("div",{className:"actions__btns",children:[Object(w.jsxs)("button",{className:"actions__btn text-muted",onClick:function(){return t.toggleModal()},children:[Object(w.jsx)("span",{className:"edit-icon"}),Object(w.jsx)("span",{className:"text",children:" Edit"})]}),Object(w.jsxs)("button",{className:"actions__btn text-danger",onClick:function(){return n("delete",i)},children:[Object(w.jsx)("span",{className:"delete-icon"}),Object(w.jsx)("span",{className:"text",children:" Delete"})]})]})]})]}),Object(w.jsx)("div",{className:"my-3 border-bottom"})]}),Object(w.jsx)("div",{className:"col-12",children:Object(w.jsx)("div",{className:"px-2",children:i.text})})]}),c?Object(w.jsx)(V,{toggleModal:t.toggleModal,item:i,action:n,edit:!0}):""]}))}})}}]),a}(n.Component),D=function(t){var e=t.title,a=t.data,i=t.id,n=t.children,c=t.action;return Object(w.jsxs)("div",{className:"w-100 d-flex flex-column",children:[Object(w.jsx)("header",{className:"bg-white",children:Object(w.jsx)("div",{className:"container",children:Object(w.jsx)("div",{className:"row",children:Object(w.jsxs)("div",{className:"col py-3 m-0 d-flex justify-content-between align-items-center todo-list__header",children:[Object(w.jsxs)("span",{className:"text-dark",children:[e.split(" ").map((function(t){return t[0].toUpperCase()+t.slice(1)})).join(" ")," (",a.length,")"]}),n]})})})}),Object(w.jsx)(C.c,{droppableId:i,children:function(t,e){return Object(w.jsxs)("ul",Object(o.a)(Object(o.a)({className:"listgroup p-2 flex-grow-1 todo-list ".concat(e.isDraggingOver?"todo-list_dragged-over":"")},t.droppableProps),{},{ref:t.innerRef,children:[a.map((function(t,e){return Object(w.jsx)(M,{index:e,item:t,action:c},t.id)})),t.placeholder]}))}})]})},_=["onDragEndCb","saveHandler","action"],F=function(t){Object(j.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(d.a)(this,a);for(var i=arguments.length,n=new Array(i),c=0;c<i;c++)n[c]=arguments[c];return(t=e.call.apply(e,[this].concat(n))).state={isEditing:!1},t.toggleModal=function(){t.setState((function(t){return{isEditing:!t.isEditing}}))},t}return Object(b.a)(a,[{key:"render",value:function(){var t=this.state.isEditing,e=this.props,a=e.onDragEndCb,i=(e.saveHandler,e.action),n=Object(E.a)(e,_),c=Object.keys(n).reverse().map((function(t){return{data:n[t],title:t}})),r=this.toggleModal;return Object(w.jsxs)("main",{className:"bg-primary flex-grow-1 py-3 d-flex",children:[Object(w.jsx)(C.a,{onDragEnd:a,children:Object(w.jsx)("div",{className:"container d-flex flex-column",children:Object(w.jsx)("div",{className:"row flex-grow-1",children:c.map((function(t){return Object(w.jsx)("div",{className:"col-4 d-flex",children:Object(w.jsx)(D,{data:t.data,title:t.title,id:t.title,action:i,children:"to do"===t.title?Object(w.jsx)("button",{type:"button",className:"btn btn-primary py-0 px-2",onClick:function(){return r()},children:"Add"}):""})},t.title)}))})})}),t?Object(w.jsx)(V,{toggleModal:this.toggleModal,item:{title:"",text:""},action:i,edit:!1}):""]})}}]),a}(n.Component),H=function(t){Object(j.a)(a,t);var e=Object(u.a)(a);function a(){var t;Object(d.a)(this,a);for(var i=arguments.length,n=new Array(i),c=0;c<i;c++)n[c]=arguments[c];return(t=e.call.apply(e,[this].concat(n))).state=N("todos")||O,t.updateStorage=function(){return y("todos",t.state)},t.action=function(e,a){switch(e){case"edit":t.saveHandler(a);break;case"delete":t.deleteItem(a)}},t.deleteItem=function(e){var a=e.type,i=e.id,n=t.state[a].filter((function(t){return t.id!==i}));t.setState((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(l.a)({},a,n))}),t.updateStorage)},t.onDragEnd=function(e){var a=e.source,i=e.destination;i&&t.setState((function(t){return I(t,a,i)}),t.updateStorage)},t.saveHandler=function(e){var a=e.type,i=e.id,n=t.state[a].findIndex((function(t){return t.id===i}));-1===n?t.state[a].push(e):t.state[a].splice(n,1,e);var c=t.state[a];t.setState((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(l.a)({},a,c))}),t.updateStorage)},t}return Object(b.a)(a,[{key:"render",value:function(){return Object(w.jsxs)("div",{id:"app",children:[Object(w.jsx)(k,{}),Object(w.jsx)(F,Object(o.a)({onDragEndCb:this.onDragEnd,action:this.action},this.state))]})}}]),a}(n.Component);s.a.render(Object(w.jsx)(c.a.StrictMode,{children:Object(w.jsx)(H,{})}),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.7b179b71.chunk.js.map